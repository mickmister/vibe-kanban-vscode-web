# ============================================================================
# Vibe Kanban Cloud - Self-Hosted Configuration
# ============================================================================
#
# Copy this file to .env.vkcloud and configure for your deployment
#
# Quick Start (Local Testing):
# 1. Generate JWT secret: openssl rand -base64 32
# 2. Create GitHub OAuth App: https://github.com/settings/applications/new
#    - Application name: VK Cloud Self-Hosted (Local)
#    - Homepage URL: http://localhost:3000
#    - Authorization callback URL: http://localhost:3000/api/auth/github/callback
# 3. Fill in GITHUB_OAUTH_CLIENT_ID, GITHUB_OAUTH_CLIENT_SECRET, VIBEKANBAN_REMOTE_JWT_SECRET
# 4. Run: docker-compose -f docker-compose.yaml up -d
#
# ============================================================================

# ----------------------------------------------------------------------------
# Public Base URL (REQUIRED)
# ----------------------------------------------------------------------------
# The public-facing URL where users will access VK Cloud
# - Local testing: http://localhost:3000
# - Production: https://vk.yourdomain.com
PUBLIC_BASE_URL=http://localhost:3000

# ----------------------------------------------------------------------------
# Server Port Mapping (REQUIRED for external access)
# ----------------------------------------------------------------------------
# Format: HOST_IP:HOST_PORT:CONTAINER_PORT
# - Local only: 127.0.0.1:3000:8081 (default)
# - External access: 0.0.0.0:3000:8081
REMOTE_SERVER_PORTS=127.0.0.1:3000:8081

# ----------------------------------------------------------------------------
# JWT Secret (REQUIRED - generate with: openssl rand -base64 32)
# ----------------------------------------------------------------------------
# SECURITY: Generate a strong random secret and keep it secure
VIBEKANBAN_REMOTE_JWT_SECRET=

# ----------------------------------------------------------------------------
# GitHub OAuth (REQUIRED - at least one OAuth provider needed)
# ----------------------------------------------------------------------------
# Create OAuth App: https://github.com/settings/applications/new
# - Homepage URL: ${PUBLIC_BASE_URL}
# - Authorization callback URL: ${PUBLIC_BASE_URL}/api/auth/github/callback
GITHUB_OAUTH_CLIENT_ID=
GITHUB_OAUTH_CLIENT_SECRET=

# ----------------------------------------------------------------------------
# Google OAuth (OPTIONAL - alternative to GitHub)
# ----------------------------------------------------------------------------
# Create OAuth credentials: https://console.cloud.google.com/apis/credentials
# - Authorized redirect URIs: ${PUBLIC_BASE_URL}/api/auth/google/callback
GOOGLE_OAUTH_CLIENT_ID=
GOOGLE_OAUTH_CLIENT_SECRET=

# ----------------------------------------------------------------------------
# PostgreSQL Configuration (OPTIONAL - defaults are fine for most setups)
# ----------------------------------------------------------------------------
VK_POSTGRES_DB=remote
VK_POSTGRES_USER=remote
VK_POSTGRES_PASSWORD=remote
VK_POSTGRES_PORT=5433

# ElectricSQL role password (should match VK_POSTGRES_PASSWORD for simplicity)
ELECTRIC_ROLE_PASSWORD=remote

# ----------------------------------------------------------------------------
# Azurite Configuration (OPTIONAL - defaults work for local development)
# ----------------------------------------------------------------------------
VK_AZURITE_PORT=10000
AZURE_STORAGE_ACCOUNT_NAME=devstoreaccount1
AZURE_STORAGE_ACCOUNT_KEY=Eby8vdM02xNOcqFlqUwJPLlmEtlCDXJ1OUzFT50uSRZ6IFsuFq2UVErCz4I6tq/K1SZFPTOtr/KBHBeksoGMGw==
AZURE_STORAGE_CONTAINER_NAME=issue-attachments
AZURE_STORAGE_ENDPOINT_URL=http://vk-azurite:10000/devstoreaccount1
AZURE_STORAGE_PUBLIC_ENDPOINT_URL=http://localhost:10000/devstoreaccount1

# ----------------------------------------------------------------------------
# Build Configuration (OPTIONAL - advanced)
# ----------------------------------------------------------------------------
# Vibe Kanban repository (use your fork if customized)
# Pin to specific version for stability, or use 'main' for latest
VKTEST_REPO_URL=https://github.com/BloopAI/vibe-kanban.git
VKTEST_BRANCH=v0.1.14

# Rust build features (leave empty for self-hosted without billing)
FEATURES=

# ----------------------------------------------------------------------------
# Logging (OPTIONAL)
# ----------------------------------------------------------------------------
RUST_LOG=info,remote=info

# ----------------------------------------------------------------------------
# Optional Integrations
# ----------------------------------------------------------------------------

# Email invitations via Loops.so (leave empty to disable)
LOOPS_EMAIL_API_KEY=

# GitHub App for PR reviews (leave empty to disable)
GITHUB_APP_ID=
GITHUB_APP_PRIVATE_KEY=
GITHUB_APP_WEBHOOK_SECRET=
GITHUB_APP_SLUG=

# Cloudflare R2 for code review storage (leave empty to disable)
R2_ACCESS_KEY_ID=
R2_SECRET_ACCESS_KEY=
R2_REVIEW_ENDPOINT=
R2_REVIEW_BUCKET=
REVIEW_WORKER_BASE_URL=

# Stripe billing (leave empty if not using billing features)
STRIPE_SECRET_KEY=
STRIPE_TEAM_SEAT_PRICE_ID=
STRIPE_WEBHOOK_SECRET=
STRIPE_FREE_SEAT_LIMIT=1

# Analytics (leave empty to disable)
POSTHOG_API_KEY=
POSTHOG_API_ENDPOINT=
SENTRY_DSN_REMOTE=
